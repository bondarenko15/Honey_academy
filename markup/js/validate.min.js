export default function validatejs(){var e;function l(e){let t=e.value;return 0<(t=t.trim()).length}function m(e){e.classList.remove("error")}function p(e){e.classList.add("error")}e=".form",(e=document.querySelectorAll(e)||null)&&e.forEach(e=>{let o=new FormData,r=new FormData,c=e.querySelector('[name="name"]'),u=e.querySelector('[name="number"]'),s=e.querySelector('[name="textarea"]');e.querySelector('[name="page_name"]');c.addEventListener("input",e=>{m(c)}),u.addEventListener("input",e=>{m(u)}),o.append("action","contact_form"),e&&document.querySelectorAll('[name="number"]').forEach(e=>{new Inputmask("+38 (999)9999999").mask(e)}),e.addEventListener("submit",e=>{e.preventDefault();var e=[],t=c.value,n=u.value,a=s.value;m(c),m(u),!1===l(c)||!1===function(e){let t=e.value;return/^[a-zA-Zа-яА-Я0-9 -]{2,50}$/gm.test(t)}(c)?(e.push("has_error"),p(c)):(m(c),o.append("contact_name",t),r.append("name",t)),!1===l(u)?(e.push("has_error"),p(u)):(m(u),o.append("contact_phone",n),r.append("phone",n)),e.includes("has_error")||((e={}).phone=n,e.name=t,e.textarea=a,e.page_name=location.href,n=JSON.stringify(e),(t=new XMLHttpRequest).open("post","https://odoo.chmsoft.com.ua/website/action-json/296e3c76-df88-4b89-87cc-5fd9980a05be",!1),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.send(n),async function(e,t){t=await fetch(t,{method:"POST",body:e}),e=await t.json();return e}(o,"/wp-admin/admin-ajax.php").then(e=>{"SUCCESS"===e.status?(document.querySelector(".wrapper_form").hide(),document.querySelector(".modal_form .modal_thanks").show()):console.log(e.error)}).catch(e=>{console.log(e)}))})})}