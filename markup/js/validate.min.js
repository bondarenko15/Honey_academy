export default function validatejs(){var e;function S(e){let t=e.value;return 0<(t=t.trim()).length}function q(e){e.classList.remove("error")}function g(e){e.classList.add("error")}e=".form",(e=document.querySelectorAll(e)||null)&&e.forEach(s=>{let u=new FormData,i=s.querySelector('[name="name"]')||null,m=s.querySelector('[name="number"]')||null,d=s.querySelector('[name="textarea"]')||null,f=s.querySelector('[name="email"]')||null,h=s.querySelector('[name="page_name"]')||null,p=s.querySelector(".custom-checkbox"),y=s.querySelector(".checkbox_label-modal"),_=s.querySelector(".form_courses  .subtitle")||null,v=s.querySelector(".form_excursion .form_title")||null;(document.querySelector(".form_courses")||null)&&(document.querySelectorAll(".btn_courses")||null).forEach(t=>{t.addEventListener("click",function(){var e=t.closest(".item").querySelector('input[name="package_name"]').value;document.querySelector(".form_courses .subtitle").textContent=e})});var e=document.querySelector(".form_excursion")||null;e&&document.querySelectorAll(".swiper-slide .btn_card").forEach(e=>{e.addEventListener("click",e=>{var t,e=e.target.closest(".swiper-slide");e&&(e=e.querySelector('input[name="offer_name"]'),t=s.querySelector(".form_excursion .form_title"),e)&&t&&(t.textContent=e.value)})}),i&&i.addEventListener("input",e=>{q(i)}),m&&m.addEventListener("input",e=>{q(m)}),f&&f.addEventListener("input",e=>{q(f)}),d&&d.addEventListener("input",e=>{q(d)}),u.append("action","contact_form"),s&&document.querySelectorAll('[name="number"]').forEach(e=>{new Inputmask("+38 (999)9999999").mask(e)}),s.addEventListener("submit",e=>{e.preventDefault();var e=[];let t,r,o,n,a,l,c;i&&(t=i.value),m&&(r=m.value),d&&(o=d.value),f&&(n=f.value),h&&(a=h.value),f&&q(f),d&&q(d),i&&q(i),m&&q(m),i&&(!1===S(i)||!1===function(e){let t=e.value;return/^[a-zA-Zа-яА-Я-]{2,50}$/gm.test(t)}(i)?(e.push("has_error"),g(i)):(q(i),u.set("contact_name",t))),m&&(!1===S(m)||!1===function(e){let t=e.value,r=t.replace(/\D/g,"");return/^(\d{12})$/.test(r)}(m)?(e.push("has_error"),g(m)):(q(m),u.set("contact_phone",r))),f&&(!1===S(f)||!1===function(e){let t=e.value;return/^([a-z0-9]+(?:[._-][a-z0-9]+)*)@([a-z0-9]+(?:[.-][a-z0-9]+)*\.[a-z]{2,})$/i.test(t)}(f)?(e.push("has_error"),g(f)):(q(f),u.set("contact_email",n))),h&&u.set("page_referer",a),d&&u.set("contact_msg",o),_&&(l=_.textContent,u.set("package",l)),v&&(l=_.textContent,u.set("offer",c)),function(e,t){if(e&&t){if(e.checked)return t.classList.remove("error_checkbox"),1;t.classList.add("error_checkbox")}return}(p,y)||e.push("has_error"),e.includes("has_error")||(r,t,o,n,a,l,e=`---------------------------
\rЗаявка прийшла з: ${a||"Не вказано"} 
\rІм'я користувача:  ${t||"Не вказано"}  
\rТелефон користувача:  ${r||"Не вказано"}  
\rEmail:  ${n||"Не вказано"}  
\rПовідомлення користувача: ${o||"Не вказано"}  
\rОформлений курс: ${l||"Не вказано"}  
\rЗаявка на табір: Не вказано  
\r---------------------------`,sendMessageToTelegram(token,chatId,e),async function(e,t){t=await fetch(t,{method:"POST",body:e}),e=await t.json();return e}(u,"/wp-admin/admin-ajax.php").then(e=>{"SUCCESS"===e.status?(s.reset(),(document.querySelector(".modal_form")||null).classList.add("isShow"),document.querySelector(".wrapper_form").style.display="none",document.querySelector(".modal_form .modal_thanks").style.display="block"):console.log(e.error)}).catch(e=>{console.log(e)}))})})}let sendMessageToTelegram=async(e,t,r)=>{e=`https://api.telegram.org/bot${e}/sendMessage`,t={chat_id:t,text:r};try{var o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok)throw new Error("Ошибка HTTP: "+o.status);var n=await o.json();console.log("Сообщение отправлено:",n)}catch(e){console.error("Ошибка при отправке сообщения:",e)}};