export default function validatejs(){var e;function b(e){let t=e.value;return 0<(t=t.trim()).length}function k(e){e.classList.remove("error")}function E(e){e.classList.add("error")}e=".form",(e=document.querySelectorAll(e)||null)&&e.forEach(u=>{let s=new FormData,i=u.querySelector('[name="name"]')||null,d=u.querySelector('[name="number"]')||null,m=u.querySelector('[name="textarea"]')||null,f=u.querySelector('[name="email"]')||null,p=u.querySelector('[name="page_name"]')||null,y=u.querySelector(".custom-checkbox"),_=u.querySelector(".checkbox_label-modal"),h=u.querySelector(".form_courses  .subtitle")||null,S=u.querySelector(".form_excursion .form_title")||null,v=document.querySelector(".form_courses")||null,q=document.querySelector(".form_buy")||null,g="";if(q){var e=document.querySelector(".btnBuy")||null;let t=document.querySelector(".product_card-main")||null;t&&e.addEventListener("click",function(){var e=t.querySelector(".product_card-tabs .item-active");g=`
Товар: ${t.querySelector(".product_card-text .product_card-title")?.innerText||"Не вказано"}
Ціна: ${t.querySelector(".product_card-text .price")?.innerText||"Не вказано"}
Модель: ${e?e.innerText:"Не вказано"}
Кількість: ${t.querySelector(".counter_input input")?.value||"Не вказано"}
`})}v&&(document.querySelectorAll(".btn_courses")||null).forEach(t=>{t.addEventListener("click",function(){var e=t.closest(".item").querySelector('input[name="package_name"]').value;document.querySelector(".form_courses .subtitle").textContent=e})}),console.log(g);let x=document.querySelector(".form_excursion")||null;x&&document.querySelectorAll(".swiper-slide .btn_card").forEach(e=>{e.addEventListener("click",e=>{var t,e=e.target.closest(".swiper-slide");e&&(e=e.querySelector('input[name="offer_name"]'),t=u.querySelector(".form_excursion .form_title"),e)&&t&&(t.textContent=e.value)})}),i&&i.addEventListener("input",e=>{k(i)}),d&&d.addEventListener("input",e=>{k(d)}),f&&f.addEventListener("input",e=>{k(f)}),m&&m.addEventListener("input",e=>{k(m)}),s.append("action","contact_form"),u&&document.querySelectorAll('[name="number"]').forEach(e=>{new Inputmask("+38 (999)9999999").mask(e)}),u.addEventListener("submit",e=>{e.preventDefault();e=[];let t,r,n,o,a,c,l;if(q,i&&(t=i.value),d&&(r=d.value),m&&(n=m.value),f&&(o=f.value),p&&(a=p.value),f&&k(f),m&&k(m),i&&k(i),d&&k(d),i&&(!1===b(i)||!1===function(e){let t=e.value;return/^[a-zA-Zа-яА-Я-]{2,50}$/gm.test(t)}(i)?(e.push("has_error"),E(i)):(k(i),s.set("contact_name",t))),d&&(!1===b(d)||!1===function(e){let t=e.value,r=t.replace(/\D/g,"");return/^(\d{12})$/.test(r)}(d)?(e.push("has_error"),E(d)):(k(d),s.set("contact_phone",r))),f&&(!1===b(f)||!1===function(e){let t=e.value;return/^([a-z0-9]+(?:[._-][a-z0-9]+)*)@([a-z0-9]+(?:[.-][a-z0-9]+)*\.[a-z]{2,})$/i.test(t)}(f)?(e.push("has_error"),E(f)):(k(f),s.set("contact_email",o))),p&&s.set("page_referer",a),m&&s.set("contact_msg",n),h&&(c=h.textContent,s.set("package",c)),S&&(l=S.textContent,s.set("offer",l)),!function(e,t){if(e&&t){if(e.checked)return t.classList.remove("error_checkbox"),1;t.classList.add("error_checkbox")}return}(y,_)&&e.push("has_error"),!e.includes("has_error")){r,t,n,o,a,l,c,g;let e=`---------------------------
\rЗаявка прийшла з: ${a||"Не вказано"} 
\rІм'я користувача: ${t||"Не вказано"}  
\rТелефон користувача: ${r||"Не вказано"}  
\rEmail: ${o||"Не вказано"}  
\rПовідомлення користувача: `+(n||"Не вказано");v.classList.contains("active")&&(e+=`
\rОформлений курс: `+(c||"Не вказано")),x.classList.contains("active")&&(e+=`
\rЗаявка на табір: `+(l||"Не вказано")),q.classList.contains("active")&&(e+=g),e+="---------------------------",sendMessageToTelegram(token,chatId,e),!async function(e,t){t=await fetch(t,{method:"POST",body:e}),e=await t.json();return e}(s,"/wp-admin/admin-ajax.php").then(e=>{"SUCCESS"===e.status?(u.reset(),(document.querySelector(".modal_form")||null).classList.add("isShow"),document.querySelector(".wrapper_form").style.display="none",document.querySelector(".modal_form .modal_thanks").style.display="block"):console.log(e.error)}).catch(e=>{console.log(e)})}})})}let sendMessageToTelegram=async(e,t,r)=>{e=`https://api.telegram.org/bot${e}/sendMessage`,t={chat_id:t,text:r};try{var n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Ошибка HTTP: "+n.status);var o=await n.json();console.log("Сообщение отправлено:",o)}catch(e){console.error("Ошибка при отправке сообщения:",e)}},token="7467752280:AAHdda6qnrlZ7QQ98pN-foorIEiMVyWqowU",chatId="-1002179024071";